<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>OrientedImageLayer - iTowns documentation</title>

    <script src="../../scripts/prettify/prettify.js"> </script>
    <script src="../../scripts/prettify/lang-css.js"> </script>
    <link type="text/css" rel="stylesheet" href="../../styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="../../styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="../../styles/itowns.css">
</head>

<body>



<section>

<article>

    <h1>
        OrientedImageLayer
        
            <span class="extends">extends <a onclick="window.parent.goTo('api/Layer/GeometryLayer.html','api/Layer/GeometryLayer')" title="GeometryLayer">GeometryLayer</a></span>
        
    </h1>

    
        <div class="description">OrientedImageLayer loads oriented images, and project these textures on the scene.
It is design to create an immersive view. </br>
It loads a set of panoramic position and orientation,
a set of camera calibration file (it's the same set of camera for each panoramic),
and a set of texture (each image for each camera for each panoramic), all organised in an <a onclick="window.parent.goTo('api/Source/OrientedImageSource.html','api/Source/OrientedImageSource')" title="OrientedImageSource">OrientedImageSource</a>. </br>
It creates an <a onclick="window.parent.goTo('api/Renderer/OrientedImageMaterial.html','api/Renderer/OrientedImageMaterial')" title="OrientedImageMaterial">OrientedImageMaterial</a> used to do projective texture mapping on the scene.</div>
    

    
        <h2>Constructor</h2>
        

<div class="method">
    <h3>
        <span class="method-name">OrientedImageLayer</span>
        (


    
        id:
            <span class="type">string</span>, 
    
        config:
            <span class="type">Object</span>, 
    
        config.backgroundDistance:
            <span class="type">number</span>, 
    
        config.onPanoChanged:
            <span class="type">function</span>, 
    
        config.projection:
            <span class="type">string</span>, 
    
        config.orientation:
            <span class="type">string</span>, 
    
        config.calibrations:
            <span class="type">string</span>, 
    
        config.source:
            <span class="type"><a onclick="window.parent.goTo('api/Source/OrientedImageSource.html','api/Source/OrientedImageSource')" title="OrientedImageSource">OrientedImageSource</a></span>
    

)
        
    </h3>

    
        

<ul class="params">
    
    <li>
        <code>id</code>
        
        
            &mdash; <span>The id of the layer, a unique name.</span>
        

        
    </li>
    
    <li>
        <code>config</code>
        
        
            &mdash; <span>configuration of the layer</span>
        

        
            

<ul class="params">
    
    <li>
        <code>config.backgroundDistance</code>
        
        
            &mdash; <span>Radius in meter of the sphere used as a background</span>
        

        
    </li>
    
    <li>
        <code>config.onPanoChanged</code>
        
        
            &mdash; <span>callback fired when current panoramic changes</span>
        

        
    </li>
    
    <li>
        <code>config.projection</code>
        
        
            &mdash; <span>projection of the view</span>
        

        
    </li>
    
    <li>
        <code>config.orientation</code>
        
        
            &mdash; <span>Json object, using GeoJSon format to represent points,
it's a set of panoramic position and orientation.</span>
        

        
    </li>
    
    <li>
        <code>config.calibrations</code>
        
        
            &mdash; <span>Json object, representing a set of camera. see <a onclick="window.parent.goTo('api/Parser/CameraCalibrationParser.html','api/Parser/CameraCalibrationParser')" title="CameraCalibrationParser">CameraCalibrationParser</a></span>
        

        
    </li>
    
    <li>
        <code>config.source</code>
        
        
            &mdash; <span>Source used to build url of texture for each oriented image,
a tecture is need for each camera, for each panoramic.</span>
        

        
    </li>
    
</ul>

        
    </li>
    
</ul>

    

    
</div>

    

    

    

    
        <h2>Methods</h2>
        
            

<div class="method">
    <h3>
        <span class="method-name">attach</span>
        (


    
        layer:
            <span class="type"><a onclick="window.parent.goTo('api/Layer/Layer.html','api/Layer/Layer')" title="Layer">Layer</a></span>
    

)
        
    </h3>

    
        

<ul class="params">
    
    <li>
        <code>layer</code>
        
        
            &mdash; <span>The layer to attach, that must have an
<code>update</code> method.</span>
        

        
    </li>
    
</ul>

    

    
        
            <div class="description">
                Attach another layer to this one. Layers attached to a GeometryLayer will
be available in <code>geometryLayer.attachedLayers</code>.
            </div>
        

        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">changeOpacity</span>
        (


    
        object:
            <span class="type">Object</span>
    

)
        
    </h3>

    
        

<ul class="params">
    
    <li>
        <code>object</code>
        
        
            &mdash; <span>The object to change the opacity from. It is
usually a <code>THREE.Object3d</code> or an implementation of it.</span>
        

        
    </li>
    
</ul>

    

    
        
            <div class="description">
                Change the opacity of an object, according to the value of the
<code>opacity</code> property of this layer.
            </div>
        

        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">defineLayerProperty</span>
        (


    
        propertyName:
            <span class="type">string</span>, 
    
        defaultValue:
            <span class="type">*</span>, 
    
        onChange:
            <span class="type">function</span>
    

)
        
    </h3>

    
        

<ul class="params">
    
    <li>
        <code>propertyName</code>
        
        
            &mdash; <span>The name of the property, also used in
the emitted event name.</span>
        

        
    </li>
    
    <li>
        <code>defaultValue</code>
        
        
            &mdash; <span>The default set value.</span>
        

        
    </li>
    
    <li>
        <code>onChange</code>
        (optional)
        
            &mdash; <span>The function executed when the property is
changed. Parameters are the layer the property is defined on, and the
name of the property.</span>
        

        
    </li>
    
</ul>

    

    
        
            <div class="description">
                Defines a property for this layer, with a default value and a callback
executed when the property changes.
<br><br>
When changing the property, it also emits an event, named following this
convention: <code>${propertyName}-property-changed</code>, with
<code>${propertyName}</code> being replaced by the name of the property.
For example, if the added property name is <code>frozen</code>, it will
emit a <code>frozen-property-changed</code>.
<br><br>
            </div>
        

        
            <h4>Example</h4>
            


    <pre class="prettyprint source lang-js"><code><caption>The emitted event has some properties assigned to it</caption>
event = {
    new: {
        ${propertyName}: * // the new value of the property
    },
    previous: {
        ${propertyName}: * // the previous value of the property
    },
    target: Layer // the layer it has been dispatched from
    type: string // the name of the emitted event
}</code></pre>


        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">delete</span>
        (


)
        
    </h3>

    

    
        
            <div class="description">
                Delete background, but doesn't delete OrientedImageLayer.material. For the moment, this material visibility is set to false.
You need to replace OrientedImageLayer.material applied on each object, if you want to continue displaying them.
This issue (see #1018 <a href="https://github.com/iTowns/itowns/issues/1018">https://github.com/iTowns/itowns/issues/1018</a>) will be fixed when OrientedImageLayer will be a ColorLayer.
            </div>
        

        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">detach</span>
        (


    
        layer:
            <span class="type"><a onclick="window.parent.goTo('api/Layer/Layer.html','api/Layer/Layer')" title="Layer">Layer</a></span>
    

)
        :
            
                <span class="type">boolean</span>

            
        
    </h3>

    
        

<ul class="params">
    
    <li>
        <code>layer</code>
        
        
            &mdash; <span>The layer to detach.</span>
        

        
    </li>
    
</ul>

    

    
        
            <div class="description">
                Detach a layer attached to this one. See attach to learn how to
attach a layer.
            </div>
        

        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">pickObjectsAt</span>
        (


    
        view:
            <span class="type"><a onclick="window.parent.goTo('api/View/View.html','api/View/View')" title="View">View</a></span>, 
    
        coordinates:
            <span class="type">Object</span>, 
    
        radius:
            <span class="type">number</span>
    

)
        :
            
                <span class="type">Array</span>

            
        
    </h3>

    
        

<ul class="params">
    
    <li>
        <code>view</code>
        
        
            &mdash; <span>The view instance.</span>
        

        
    </li>
    
    <li>
        <code>coordinates</code>
        
        
            &mdash; <span>The coordinates to pick in the view. It
should have at least <code>x</code> and <code>y</code> properties.</span>
        

        
    </li>
    
    <li>
        <code>radius</code>
        
        
            &mdash; <span>Radius of the picking circle.</span>
        

        
    </li>
    
</ul>

    

    
        
            <div class="description">
                Picking method for this layer. It uses the Picking#pickObjectsAt
method.
            </div>
        

        
    
</div>

            
        
    

    



        <h2>Source</h2>
        <a target="_blank" href="https://github.com/itowns/itowns/blob/master/src/Layer/OrientedImageLayer.js">
            src/Layer/OrientedImageLayer.js
        </a>




</article>

</section>

<script> prettyPrint(); </script>
<script src="../../scripts/linenumber.js"> </script>
</body>
</html>