<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>DEMUtils - iTowns documentation</title>

    <script src="../../scripts/prettify/prettify.js"> </script>
    <script src="../../scripts/prettify/lang-css.js"> </script>
    <link type="text/css" rel="stylesheet" href="../../styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="../../styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="../../styles/itowns.css">
</head>

<body>



<section>

<article>

    <h1>
        DEMUtils
        
    </h1>

    
        <div class="description"><p>Utility module to retrieve elevation at a given coordinates. The returned
value is read in the elevation textures used by the graphics card to render
the tiles (globe or plane). This implies that the return value may change
depending on the current tile resolution.</p></div>
    

    

    

    

    

    
        <hr class="title-divider"/>
        <h2>Static Methods</h2>
        
            

<div class="method">
    <h3>
        <span class="method-name">getElevationValueAt</span>
        (


    
    
        layer:
            <span class="type"><a onclick="window.parent.goTo('api/Layer/TiledGeometryLayer.html','api/Layer/TiledGeometryLayer')" title="TiledGeometryLayer">TiledGeometryLayer</a></span>, 
    
        coord:
            <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>, 
    
        method:
            <span class="type">number</span>, 
    
        tileHint:
            <span class="type">Array.&lt;TileMesh></span>
    

)
        :
            
                <span class="type">number</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Gives the elevation value of a <a onclick="window.parent.goTo('api/Layer/TiledGeometryLayer.html','api/Layer/TiledGeometryLayer')" title="TiledGeometryLayer">TiledGeometryLayer</a>, at a specific
<a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a>.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>If found, a value in meters is returned; otherwise
<code>undefined</code>.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>layer</code>
        
        
            &mdash; <span><p>The tile layer owning the elevation
textures we're going to query. This is typically a <code>GlobeLayer</code> or
<code>PlanarLayer</code> (accessible through <code>view.tileLayer</code>).</p></span>
        

        
    </li>
    
    <li>
        <code>coord</code>
        
        
            &mdash; <span><p>The coordinates that we're interested in.</p></span>
        

        
    </li>
    
    <li>
        <code>method</code>
        (default: <code>FAST_READ_Z</code>)
        
        
            &mdash; <span><p>There are two available methods:
<code>FAST_READ_Z</code> (default) or <code>PRECISE_READ_Z</code>. The first one is faster,
while the second one is slower but gives better precision.</p></span>
        

        
    </li>
    
    <li>
        <code>tileHint</code>
        (optional)
        
            &mdash; <span><p>Optional array of tiles to speed up the
process. You can give candidates tiles likely to contain <code>coord</code>.
Otherwise the lookup process starts from the root of <code>layer</code>.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">getTerrainObjectAt</span>
        (


    
    
        layer:
            <span class="type"><a onclick="window.parent.goTo('api/Layer/TiledGeometryLayer.html','api/Layer/TiledGeometryLayer')" title="TiledGeometryLayer">TiledGeometryLayer</a></span>, 
    
        coord:
            <span class="type"><a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a></span>, 
    
        method:
            <span class="type">number</span>, 
    
        tileHint:
            <span class="type">Array.&lt;TileMesh></span>
    

)
        :
            
                <span class="type">object</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Gives a terrain object, at a specific <a onclick="window.parent.goTo('api/Geographic/Coordinates.html','api/Geographic/Coordinates')" title="Coordinates">Coordinates</a>. The returned
object is as follow:</p>
<ul>
<li><code>z</code>, the value in meters of the elevation at the coordinates</li>
<li><code>texture</code>, the texture where the <code>z</code> value has been read from</li>
<li><code>tile</code>, the tile containing the texture</li>
</ul>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>The terrain object.</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>layer</code>
        
        
            &mdash; <span><p>The tile layer owning the elevation
textures we're going to query. This is typically a <code>GlobeLayer</code> or
<code>PlanarLayer</code> (accessible through <code>view.tileLayer</code>).</p></span>
        

        
    </li>
    
    <li>
        <code>coord</code>
        
        
            &mdash; <span><p>The coordinates that we're interested in.</p></span>
        

        
    </li>
    
    <li>
        <code>method</code>
        (default: <code>FAST_READ_Z</code>)
        
        
            &mdash; <span><p>There are two available methods:
<code>FAST_READ_Z</code> (default) or <code>PRECISE_READ_Z</code>. The first one is faster,
while the second one is slower but gives better precision.</p></span>
        

        
    </li>
    
    <li>
        <code>tileHint</code>
        (optional)
        
            &mdash; <span><p>Optional array of tiles to speed up the
process. You can give candidates tiles likely to contain <code>coord</code>.
Otherwise the lookup process starts from the root of <code>layer</code>.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            <hr/>
        
            

<div class="method">
    <h3>
        <span class="method-name">placeObjectOnGround</span>
        (


    
    
        layer:
            <span class="type"><a onclick="window.parent.goTo('api/Layer/TiledGeometryLayer.html','api/Layer/TiledGeometryLayer')" title="TiledGeometryLayer">TiledGeometryLayer</a></span>, 
    
        crs:
            <span class="type">string</span>, 
    
        obj:
            <span class="type">Object3D</span>, 
    
        options:
            <span class="type">Object</span>, 
    
        tileHint:
            <span class="type">Array.&lt;TileMesh></span>
    

)
        :
            
                <span class="type">boolean</span>

            
        
    </h3>

    
        
            <div class="description">
                <p>Helper method that will position an object directly on the ground.</p>
            </div>
        
    

    
                <h4>Returns</h4>
                
                    <p>true if successful, false if we couldn't lookup the elevation at the given coords</p>
                

    
        <h4>Parameters</h4>
        

<ul class="params">
    
    <li>
        <code>layer</code>
        
        
            &mdash; <span><p>The tile layer owning the elevation
textures we're going to query. This is typically a <code>GlobeLayer</code> or
<code>PlanarLayer</code> (accessible through <code>view.tileLayer</code>).</p></span>
        

        
    </li>
    
    <li>
        <code>crs</code>
        
        
            &mdash; <span><p>The CRS used by the object coordinates. You
probably want to use <code>view.referenceCRS</code> here.</p></span>
        

        
    </li>
    
    <li>
        <code>obj</code>
        
        
            &mdash; <span><p>the object we want to modify.</p></span>
        

        
    </li>
    
    <li>
        <code>options</code>
        
        

        
            

<ul class="params">
    
    <li>
        <code>options.method</code>
        (default: <code>FAST_READ_Z</code>)
        
        
            &mdash; <span><p>There are two available methods:
<code>FAST_READ_Z</code> (default) or <code>PRECISE_READ_Z</code>. The first one is faster,
while the second one is slower but gives better precision.</p></span>
        

        
    </li>
    
    <li>
        <code>options.modifyGeometry</code>
        
        
            &mdash; <span><p>if unset/false, this function
will modify object.position. If true, it will modify
<code>obj.geometry.vertices</code> or <code>obj.geometry.attributes.position</code>.</p></span>
        

        
    </li>
    
</ul>

        
    </li>
    
    <li>
        <code>tileHint</code>
        (optional)
        
            &mdash; <span><p>Optional array of tiles to speed up the
process. You can give candidates tiles likely to contain <code>coord</code>.
Otherwise the lookup process starts from the root of <code>layer</code>.</p></span>
        

        
    </li>
    
</ul>

    

    
        
    
</div>

            
        
    

    

    



        <hr class="title-divider"/>
        <h2>Source</h2>
        <a target="_blank" href="https://github.com/itowns/itowns/blob/master/src/Utils/DEMUtils.js">
            src/Utils/DEMUtils.js
        </a>




</article>

</section>

<script> prettyPrint(); </script>
<script src="../../scripts/linenumber.js"> </script>
</body>
</html>